# Victor CBO Analysis - OKX Funding Rate Arbitrage

**CBO (Chief Business Officer):** Victor Hogrefre
**Auditor:** Terry Li (Engineering Lead)
**Strategy:** Market-neutral funding rate arbitrage on OKX USDT-margined perpetuals

---

## ğŸ“ Directory Structure

```
victor-cbo-analysis/
â”œâ”€â”€ README.md                           # This file
â”œâ”€â”€ scripts/                            # Victor's Python scripts
â”‚   â”œâ”€â”€ funding_arb_strat_1.py         # Portfolio strategy backtester (v8)
â”‚   â”œâ”€â”€ pull_funding_arb_hist.py       # Historical data downloader (v8)
â”‚   â””â”€â”€ next_funding_rate.py           # Real-time signal generator (v2.3)
â”œâ”€â”€ docs/                               # Documentation
â”‚   â”œâ”€â”€ VICTOR_STRATEGY_OVERVIEW.md    # Comprehensive strategy documentation
â”‚   â”œâ”€â”€ AUDIT_REPORT.md                # Technical audit findings
â”‚   â””â”€â”€ TECHNICAL_DEEP_DIVE.md         # (TODO) Implementation details
â”œâ”€â”€ data/                               # Data directory (gitignored)
â”‚   â”œâ”€â”€ okx_funding_arb_1y.csv         # Combined historical data
â”‚   â”œâ”€â”€ okx_funding_arb_<SYMBOL>.csv   # Per-symbol historical data
â”‚   â””â”€â”€ funding_abs_net.csv            # Real-time signal output
â””â”€â”€ analysis/                           # Analysis outputs (gitignored)
    â”œâ”€â”€ okx_funding_arb_portfolio_v8.csv    # Backtest results
    â””â”€â”€ okx_funding_arb_portfolio_v8.png    # Equity curve chart
```

---

## ğŸ¯ Quick Start

### 1. Download Historical Data
```bash
cd victor-cbo-analysis/scripts
python pull_funding_arb_hist.py
```

**Output:** Creates `okx_funding_arb_1y.csv` with ~3 months of funding rate history

---

### 2. Run Portfolio Backtest
```bash
python funding_arb_strat_1.py
```

**Output:**
- `okx_funding_arb_portfolio_v8.csv` - Full backtest results
- `okx_funding_arb_portfolio_v8.png` - Equity curve chart

---

### 3. Generate Real-Time Signals
```bash
python next_funding_rate.py --csv funding_abs_net.csv
```

**Output:** Real-time table showing:
- Estimated next funding rates
- Net APR after costs (with 12x leverage modeling)
- ROE (return on equity) projections
- Trading signals (Long Spot + Short Perp, or Stand-By)

---

## ğŸ“Š Victor's Backtest Results

```
Period:     2025-06-25 â†’ 2025-09-27  (~94.0 days)
Final eq:   1.158546  (start 1.0)
APY (CAGR): 7,708%
Sharpe:     19.48
```

---

## ğŸ“‹ Documentation Index

### For Executive Overview:
ğŸ‘‰ **[VICTOR_STRATEGY_OVERVIEW.md](docs/VICTOR_STRATEGY_OVERVIEW.md)**
- Strategy rules and mechanics
- Backtest results interpretation
- Risk characteristics

### For Technical Audit:
ğŸ‘‰ **[AUDIT_REPORT.md](docs/AUDIT_REPORT.md)**
- Critical security issues (ğŸ”´ **must read before production**)
- Implementation discrepancies
- Validation recommendations
- Production deployment checklist

### For Implementation Details:
ğŸ‘‰ **TECHNICAL_DEEP_DIVE.md** (TODO)
- Algorithm walk-throughs
- Fee calculation mechanics
- Rebalancing logic explained

---

## âš ï¸ CRITICAL SECURITY NOTICE

**DO NOT DEPLOY TO PRODUCTION WITHOUT:**
1. Reading the full [AUDIT_REPORT.md](docs/AUDIT_REPORT.md)
2. Rotating exposed API credentials (see audit report Â§1)
3. Implementing proper credential management (Doppler CLI recommended)

---

## ğŸ”‘ Strategy Highlights

### Core Concept
Capture funding rates on OKX perpetual futures through market-neutral arbitrage:
- **Positive funding:** Long spot + Short perp â†’ collect funding from longs
- **Negative funding:** Short spot + Long perp â†’ collect funding from shorts

### Unique Features
1. **Top-5 concentration:** Focus on highest-magnitude funding opportunities
2. **Sticky rebalancing:** Multi-gate system prevents overtrading
   - Min-hold period (24h)
   - Hurdle filter (â‰¥3 bps advantage)
   - Value-vs-cost gate (profit > fees)
   - No-trade bands (Â±5%)
3. **VIP-7 fee modeling:** Assumes 60% maker / 40% taker execution blend
4. **Deterministic allocation:** Respects 5% min / 50% max weight constraints

---

## ğŸ“¦ Dependencies

```bash
# Python 3.10+ required
pip install pandas matplotlib numpy requests

# Or using uv (per Terry's development standards):
uv pip install pandas matplotlib numpy requests
```

---

## ğŸš€ Recommended Workflow

### Phase 1: Validation (This Week)
- [ ] Review audit report
- [ ] Fix security issues
- [ ] Validate backtest period
- [ ] Run sensitivity analysis

### Phase 2: Extended Testing (Weeks 2-3)
- [ ] Walk-forward validation
- [ ] Different market regimes
- [ ] Parameter optimization
- [ ] Slippage modeling

### Phase 3: Paper Trading (Weeks 4-6)
- [ ] Live signal monitoring
- [ ] Execution quality measurement
- [ ] Maker/taker ratio validation

### Phase 4: Production (If Validated)
- [ ] Risk management integration
- [ ] Position size calculation
- [ ] Kill-switch implementation
- [ ] Performance monitoring

---

## ğŸ“ Contact

**Questions about strategy logic:**
- Victor Hogrefre (CBO)

**Questions about implementation/audit:**
- Terry Li (Engineering Lead)

**For production deployment approval:**
- Requires sign-off from both Victor and Terry

---

## ğŸ“œ License

Proprietary - Internal use only

---

## ğŸ·ï¸ Version History

- **v8 (Current):** Max weight constraint updated to 50%, improved fee modeling
- **v2.3 (next_funding_rate):** Added 12x leverage modeling and ROE calculations
