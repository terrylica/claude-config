#!/usr/bin/osascript

-- AppleScript to automate MetaEditor compilation
-- Assumes MetaEditor window is already open with the file loaded

tell application "System Events"
    -- Find MetaEditor process
    set metaEditorRunning to exists (processes where name contains "MetaEditor")

    if metaEditorRunning then
        -- Activate MetaEditor
        tell process "CrossOver"
            set frontmost to true
            delay 0.5

            -- Send F7 keystroke (compile)
            keystroke "7" using {function down}
            delay 2

            log "Compilation command sent (F7)"
        end tell
    else
        log "Error: MetaEditor is not running"
        return "MetaEditor not found"
    end if
end tell

return "Compilation triggered"
