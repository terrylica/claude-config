#!/bin/bash
for file in "$@"; do
    # Try to create window in existing Alacritty instance
    /opt/homebrew/bin/alacritty msg create-window -e hx "$file" 2>/dev/null || {
        # If no instance exists, launch new one
        nohup /opt/homebrew/bin/alacritty -e hx "$file" >/dev/null 2>&1 &
        disown
    }
done
