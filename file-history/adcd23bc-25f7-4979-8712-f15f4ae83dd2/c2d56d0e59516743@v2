#!/bin/bash
# Grant admin:public_key scope to all 3 GitHub accounts

set -euo pipefail

echo "=== Granting SSH Key Management Permissions to All GitHub Accounts ==="
echo ""
echo "This will open your browser 3 times (once per account)."
echo "Press Enter to continue..."
read

echo ""
echo "=== Account 1: tainora ==="
gh auth switch --user tainora
echo "Opening browser for tainora..."
gh auth refresh -h github.com -s admin:public_key
echo ""

echo "=== Account 2: terrylica ==="
gh auth switch --user terrylica
echo "Opening browser for terrylica..."
gh auth refresh -h github.com -s admin:public_key
echo ""

echo "=== Account 3: 459ecs ==="
gh auth switch --user 459ecs
echo "Opening browser for 459ecs..."
gh auth refresh -h github.com -s admin:public_key
echo ""

echo "âœ… All accounts should now have SSH key management permissions"
echo ""
echo "Next step: Run the registration script"
echo "  /tmp/register-ssh-keys-via-gh.sh"
