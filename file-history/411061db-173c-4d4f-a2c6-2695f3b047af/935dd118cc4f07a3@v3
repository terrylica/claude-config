"""
okx-price-provider: Universal OKX price data provider with REST API and Parquet caching.

This library provides real spot prices for OKX trading pairs using REST API candles.
Key features:
- REST API with historical coverage (back to 2019+)
- Parquet-backed cache with zstd compression
- Point-in-time price lookups (no aggregation needed)
- Fast price lookups with forward-fill for missing timestamps
- Production-ready: typed, documented

Example usage:
    >>> from pathlib import Path
    >>> from okx_price_provider import download_okx_candles, OKXPriceProvider
    >>>
    >>> # Download 1 week of 4H candles
    >>> download_okx_candles(
    ...     symbols=["BTC", "ETH", "SOL"],
    ...     start_date="2023-10-01",
    ...     end_date="2023-10-07",
    ...     output_parquet=Path("data/okx_price_cache/candles_4h.parquet")
    ... )
    >>>
    >>> # Load price provider
    >>> provider = OKXPriceProvider(cache_dir=Path("data/okx_price_cache"))
    >>>
    >>> # Get price for BTC at specific timestamp
    >>> price = provider.get_price("BTC", pd.Timestamp("2023-10-01 08:00:00", tz="UTC"))
    >>> print(f"BTC price: ${price:,.2f}")
"""

__version__ = "0.1.0"

from .downloader import (
    OKXCandlesDownloader,
    download_okx_candles,
)

from .provider import (
    OKXPriceProvider,
)

from .utils import (
    normalize_symbol,
    denormalize_symbol,
)

__all__ = [
    # Downloader
    "OKXCandlesDownloader",
    "download_okx_candles",
    # Provider
    "OKXPriceProvider",
    # Utils
    "normalize_symbol",
    "denormalize_symbol",
]
