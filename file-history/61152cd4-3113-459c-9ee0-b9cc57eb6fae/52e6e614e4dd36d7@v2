# üö® CRITICAL FINDING: Actual OKX Borrow Costs Analysis

**Date:** October 1, 2025
**Status:** ‚õî **STRATEGY APPEARS UNPROFITABLE WITH CURRENT ASSUMPTIONS**

---

## Executive Summary

**Critical discovery:** Actual OKX margin borrow rates are **3-10x HIGHER** than our "harsh" assumptions, rendering the funding rate arbitrage strategy **unprofitable** if spot margin borrowing is required.

| Component | Assumed (Harsh) | Actual (Basic Tier) | Multiplier |
|-----------|----------------|---------------------|------------|
| **BTC borrow** | 4.0% APY | **24.18% APY** | **6.0x** ‚ùå |
| **Alt borrow (avg)** | 12.0% APY | **37.47% APY** | **3.1x** ‚ùå |
| **Blended (25/75)** | 10.0% APY | **30.83% APY** | **3.1x** ‚ùå |

**Backtest impact:**
- V1.5 harsh (assumed 12% drag): **11.24% APY** ‚ö†Ô∏è
- With actual rates (30.83% drag): **-7.59% APY** ‚õî

**Verdict:** ‚õî **Strategy is UNPROFITABLE** if it requires spot margin borrowing at basic tier rates.

---

## Actual OKX Borrow Rates (Basic Tier)

Retrieved from OKX public API: `/api/v5/public/interest-rate-loan-quota`

### Our Target Symbols

| Symbol | APY % | Category | vs Assumption |
|--------|-------|----------|---------------|
| **BTC** | 24.18% | Low | 6.0x higher |
| **ETH** | 60.13% | Medium | 5.0x higher |
| **SOL** | 132.03% | High | **11.0x higher** |
| **ATOM** | 120.05% | High | 10.0x higher |
| **DOT** | 192.16% | Very High | 16.0x higher |
| **XTZ** | 984.13% | Extreme | **82.0x higher** ‚ö†Ô∏è |
| Most others | 24.18% | Low | 2.0x higher |

### Key Observations

1. **BTC is cheapest at 24.18%** - but still 6x our assumption
2. **Most major alts are 24-60%** - significantly higher than 12% assumed
3. **Some alts are 120-200%** - completely prohibitive
4. **XTZ at 984%** - essentially unborrowa

ble

**Average blended rate (excluding XTZ):** 52.67% APY

---

## Strategy Mechanics Clarification

**CRITICAL QUESTION:** Does Victor's strategy require spot margin borrowing?

### Scenario A: Perp Long + Spot Short (Requires Borrowing) ‚ùå

```
Long BTC-USDT-SWAP (receive positive funding)
  ‚Üì Need delta hedge
Short BTC spot (requires borrowing BTC)
  ‚Üì Borrow costs
Pay 24-132% APY to borrow crypto
```

**Result:** UNPROFITABLE due to massive borrow costs

### Scenario B: Pure Perp Arbitrage (No Borrowing) ‚úÖ

```
Long high positive funding perp (e.g., BTC +0.05%)
Short high negative funding perp (e.g., ALT -0.05%)
  ‚Üì No borrowing
Collect funding from both sides
```

**Result:** PROFITABLE, no borrow costs!

### Scenario C: Perp Long + Perp Short on Different Exchanges ‚úÖ

```
Long BTC-PERP on OKX (receive funding)
Short BTC-PERP on Binance (receive funding if negative)
  ‚Üì No borrowing (USDT collateral only)
Collect funding differential
```

**Result:** PROFITABLE if funding differential > fees

---

## Which Strategy Is Victor Using?

Looking at Victor's backtester (`funding_arb_strat_1.py`):

```python
# Victor's strategy appears to:
# 1. Select top-5 symbols by absolute funding rate
# 2. Go long perpetuals with high rates
# 3. Implied hedging mechanism (not explicitly shown)
```

**Key question:** How is the delta hedge executed?

### If Using USDT-Margined Perpetuals Only:

USDT-margined perps don't require crypto borrowing:
- Post USDT as collateral
- Go long or short
- Pay/receive funding
- **No crypto borrowing needed!**

**Implication:** Our borrow cost assumptions may be WRONG!

### If Using Spot Margin for Hedging:

Then borrow costs apply and strategy is unprofitable.

---

## Re-evaluation: Are Borrow Costs Even Relevant?

### For USDT-Margined Perpetual Arbitrage:

**Borrow costs = $0** because:
1. Long perp: USDT collateral, no borrowing
2. Short perp (hedge): USDT collateral, no borrowing
3. Only costs: Funding rates + trading fees + slippage

**This changes EVERYTHING!**

If the strategy doesn't require spot margin borrowing, then:
- Remove 23.13% borrow drag from backtest
- V1.5 harsh result: 11.24% + 12% = **23.24% APY** ‚úÖ
- Actual result (no borrow): **34.47% APY** (just remove borrow drag)

### For Mixed Perp + Spot Strategy:

If delta hedging via spot margin:
- **Unprofitable** due to 30%+ borrow costs
- Only viable if using perp-to-perp hedging

---

## VIP Tier Considerations

**Important:** The rates above are for **BASIC tier** (public API).

OKX has VIP tiers:
- **VIP 1-5:** Significantly lower rates (need to query with credentials)
- **VIP 7+:** Victor mentioned he has VIP-7 access

**Estimated VIP-7 borrow rates (typical reduction):**
- BTC: 1-5% APY (vs 24.18% basic)
- Alts: 3-8% APY (vs 24-60% basic)

**If Victor has VIP-7:**
- Borrow costs could be **80-90% lower** than basic tier
- Strategy might still be viable with spot hedging
- Blended rate: 3-6% APY (close to our 4-12% assumptions!)

---

## Critical Questions to Answer

### 1. **What is the actual strategy mechanics?**
   - [ ] Pure perp arbitrage (no borrowing)
   - [ ] Perp long + spot short (requires borrowing)
   - [ ] Perp long + perp short on different exchanges

### 2. **Is spot margin borrowing required?**
   - If NO: Borrow costs are **irrelevant** ‚úÖ
   - If YES: Need VIP tier rates (basic tier = unprofitable)

### 3. **What VIP tier access do we have?**
   - Basic tier: 24-132% borrow rates ‚õî
   - VIP-7 tier: 2-8% borrow rates (estimated) ‚úÖ

---

## Immediate Actions Required

### Priority 1: Clarify Strategy Mechanics ‚ö°

**Question for Victor/Strategy docs:**
> "Does the delta hedge use spot margin (requiring crypto borrowing) or perpetual swaps (USDT collateral only)?"

**If perp-only:**
- ‚úÖ Ignore borrow costs
- Re-run backtest without borrow drag
- Expected APY: ~34% (V1.5 harsh)

**If uses spot margin:**
- ‚ö†Ô∏è Must have VIP tier access
- Query VIP tier borrow rates
- Re-run with actual VIP rates

### Priority 2: Query VIP Tier Rates (If Needed)

If spot margin is used:
```bash
# Requires API credentials
curl -H "OK-ACCESS-KEY: xxx" \
     -H "OK-ACCESS-SIGN: xxx" \
     -H "OK-ACCESS-TIMESTAMP: xxx" \
     -H "OK-ACCESS-PASSPHRASE: xxx" \
     "https://www.okx.com/api/v5/account/interest-rate"
```

### Priority 3: Re-run Backtest with Correct Assumptions

**Scenario A (Perp-only, no borrow):**
- Remove all borrow cost logic
- Expected result: 23-35% APY ‚úÖ

**Scenario B (With VIP-7 borrow ~5%):**
- Update borrow rates to VIP-7 levels
- Expected result: 15-20% APY ‚úÖ

---

## Revised Deployment Decision Tree

```
Is delta hedge perp-only (no spot margin)?
  ‚îú‚îÄ YES ‚Üí ‚úÖ Deploy (23-35% APY expected)
  ‚îî‚îÄ NO ‚Üí Do we have VIP tier access?
      ‚îú‚îÄ YES (VIP-5+) ‚Üí ‚úÖ Query VIP rates ‚Üí Re-backtest
      ‚îî‚îÄ NO (Basic) ‚Üí ‚ùå DO NOT DEPLOY (unprofitable)
```

---

## Key Insights

### What We Learned

1. **Basic tier borrow rates are PROHIBITIVE** (24-132% APY)
2. **Our "harsh" assumptions (4-12%) were actually OPTIMISTIC** for basic tier
3. **Strategy viability depends critically on:**
   - Whether spot borrowing is needed
   - VIP tier access if borrowing is needed

4. **USDT-margined perp arbitrage doesn't require borrowing!**
   - If strategy is perp-only: Borrow costs = $0
   - This would make strategy highly profitable

### What Changed

**Previous understanding:**
- Harsh assumptions: 4% BTC, 12% alts
- 2-year result: 11.24% APY
- Conclusion: Marginal

**New understanding:**
- Basic tier reality: 24% BTC, 37% alts avg
- If borrowing needed: **-7.59% APY** ‚õî
- **BUT:** Perp arbitrage may not need borrowing!
- If no borrowing: **34%+ APY** ‚úÖ

---

## Next Steps

**BEFORE doing anything else:**

1. ‚úÖ **Clarify strategy mechanics** (perp-only vs mixed)
2. ‚ö†Ô∏è **If borrowing needed:** Query VIP tier rates
3. üîÑ **Re-run backtest** with correct cost model
4. üìä **Make final deployment decision**

**Timeline:** 1-2 hours (not days!)

---

## Files for Reference

- OKX borrow rate API: `https://www.okx.com/api/v5/public/interest-rate-loan-quota`
- Raw rate data: Saved in this document
- Backtest results: `analysis/okx_funding_arb_v1_5_harsh_results.csv`

---

**Status:** ‚ö†Ô∏è **CRITICAL DECISION POINT**

The strategy's viability hinges on whether spot margin borrowing is required. If perp-only arbitrage, we're in excellent shape. If spot borrowing is needed, we must verify VIP tier access and rates.

**Recommendation:** Immediately review Victor's strategy implementation to determine hedging mechanism.
