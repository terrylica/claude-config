#!/bin/bash
# Session ID Display Hook - Appends session ID to Claude Code responses
# Uses systemMessage field with subtle color for session ID only

# Read hook input from stdin
input_data=$(cat)

# Extract session ID from hook input
session_id=$(echo "$input_data" | jq -r '.session_id // "unknown"')

# ANSI color codes - using dim cyan (low-key, unique color)
DIM_CYAN=$'\033[2;36m'  # Dim/faint cyan (subtle, low-key)
RESET=$'\033[0m'

# Build message with color only on session ID using printf
message=$(printf "ðŸ“‹ Session ID: %s%s%s" "$DIM_CYAN" "$session_id" "$RESET")

# Output JSON with systemMessage to display to user
jq -n --arg msg "$message" '{
  "systemMessage": $msg,
  "continue": true,
  "suppressOutput": false
}'
