#!/bin/bash
# Manual CNS notification trigger with platform detection

AUDIO_FILE="$HOME/.claude/media/toy-story-notification.mp3"

if [[ -f "$AUDIO_FILE" ]]; then
    if command -v afplay >/dev/null 2>&1; then
        # macOS
        afplay "$AUDIO_FILE"
    elif command -v paplay >/dev/null 2>&1; then
        # Linux with PulseAudio
        paplay "$AUDIO_FILE"
    elif command -v aplay >/dev/null 2>&1; then
        # Linux with ALSA
        aplay "$AUDIO_FILE"
    else
        echo "No supported audio player found (afplay/paplay/aplay)"
        exit 1
    fi
else
    echo "Audio file not found: $AUDIO_FILE"
    exit 1
fi