// Lychee Link Autofix Bot - Zellij Layout
// Start with: zellij --layout ~/.claude/automation/lychee/lychee-bot.kdl
//
// This layout runs both background services in separate panes for easy monitoring

layout {
    default_tab_template {
        pane size=1 borderless=true {
            plugin location="zellij:tab-bar"
        }
        children
        pane size=2 borderless=true {
            plugin location="zellij:status-bar"
        }
    }

    tab name="Lychee Bot" focus=true {
        pane split_direction="vertical" {
            pane name="Telegram Handler" {
                cwd "/Users/terryli/.claude/automation/lychee"
                command "doppler"
                args "run" "-p" "claude-config" "-c" "dev" "--" "uv" "run" "telegram-approval-handler.py"
            }
            pane name="Orchestrator" {
                cwd "/Users/terryli/.claude/automation/lychee"
                command "doppler"
                args "run" "-p" "claude-config" "-c" "dev" "--" "uv" "run" "auto-fix-orchestrator.py"
            }
        }
    }

    tab name="Logs" {
        pane name="Lychee Log" {
            command "tail"
            args "-f" "/Users/terryli/.claude/logs/lychee.log"
        }
    }
}
